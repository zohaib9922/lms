(()=>{var r={2674:()=>{window.jQuery(document).ready(function(n){var t=wp.i18n,s=t.__,e=t._x,o=t._n,r=t._nx;n(document).on("click",".open-tutor-assignment-modal, .tutor-create-assignments-btn",function(t){t.preventDefault();var e=n(this);var o=e.hasClass("tutor-create-assignments-btn")?0:e.attr("data-assignment-id");var r=e.closest(".tutor-topics-wrap").data("topic-id");var a=n("#post_ID").val();n.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:{assignment_id:o,topic_id:r,course_id:a,action:"tutor_load_assignments_builder_modal"},beforeSend:function t(){e.addClass("is-loading")},success:function t(e){n(".tutor-assignment-modal-wrap .modal-container").html(e.data.output);n(".tutor-assignment-modal-wrap").addClass("tutor-is-active");tinymce.init(tinyMCEPreInit.mceInit.tutor_assignment_editor_config);tinymce.execCommand("mceRemoveEditor",false,"tutor_assignments_modal_editor");tinyMCE.execCommand("mceAddEditor",false,"tutor_assignments_modal_editor");window.dispatchEvent(new Event(_tutorobject.content_change_event))},complete:function t(){e.removeClass("is-loading");quicktags({id:"tutor_assignments_modal_editor"})}})});n(document).on("click",".update_assignment_modal_btn",function(t){t.preventDefault();var e=n(this);var o;var r="tutor_assignments_modal_editor";var a=tinyMCE.get(r);if(a){o=a.getContent()}else{o=n("#"+r).val()}var i=n(this).closest(".tutor-modal").find("form.tutor_assignment_modal_form").serializeObject();i.assignment_content=o;n.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:i,beforeSend:function t(){e.addClass("is-loading")},success:function t(e){if(e.success){n("#tutor-course-content-wrap").html(e.data.course_contents);enable_sorting_topic_lesson();n(".tutor-assignment-modal-wrap").removeClass("tutor-is-active");window.dispatchEvent(new Event(window._tutorobject.content_change_event));tutor_toast(s("Success","tutor"),s("Assignment Updated","tutor"),"success")}},complete:function t(){e.removeClass("is-loading")}})})})},4417:()=>{window.jQuery(document).ready(function(o){var t=wp.i18n,s=t.__,e=t._x,r=t._n,a=t._nx;o(document).on("click",".tutor-attachment-cards:not(.tutor-no-control) .tutor-delete-attachment",function(t){t.preventDefault();o(this).closest("[data-attachment_id]").remove()});o(document).on("click",".tutorUploadAttachmentBtn",function(t){t.preventDefault();var a=o(this);var i=a.data("name");var e=a.parent().find(".tutor-attachment-cards");var n;if(n){n.open();return}n=wp.media({title:s("Select or Upload Media Of Your Choice","tutor"),button:{text:s("Upload media","tutor")},multiple:true});n.on("select",function(){var t=n.state().get("selection").toJSON();if(t.length){for(var e=0;e<t.length;e++){var o=t[e];var r='<div class="tutor-col-lg-6 tutor-col-xl-4 tutor-mb-16" data-attachment_id="'.concat(o.id,'">\n                        <div class="tutor-card">\n                            <div class="tutor-card-body">\n                                <div class="tutor-row tutor-align-center">\n                                    <div class="tutor-col tutor-overflow-hidden">\n                                        <div class="tutor-fs-6 tutor-fw-medium tutor-color-black tutor-text-ellipsis tutor-mb-4">').concat(o.filename,'</div>\n                                        <div class="tutor-fs-7 tutor-color-muted">').concat(s("Size","tutor"),": ").concat(o.filesizeHumanReadable,'</div>\n                                        <input type="hidden" name="').concat(i,'" value="').concat(o.id,'">\n                                    </div>\n\n                                    <div class="tutor-col-auto">\n                                        <span class="tutor-delete-attachment tutor-iconic-btn tutor-iconic-btn-secondary" role="button">\n                                            <span class="tutor-icon-times" area-hidden="true"></span>\n                                        </span>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>');a.parent().find(".tutor-attachment-cards").append(r)}}});n.open()})})},7464:()=>{function r(t,e,o){if(e in t){Object.defineProperty(t,e,{value:o,enumerable:true,configurable:true,writable:true})}else{t[e]=o}return t}window.jQuery(document).ready(function(o){o('#course_setting_content_drip, [name="_tutor_course_settings[content_drip_type]"]').change(function(){var t;if(o(this).attr("type")=="radio"&&!o(this).prop("checked")){return}var e=o(this).attr("type")=="checkbox"?o(this).prop("checked")?1:0:o(this).val();o.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:(t={},r(t,o(this).attr("name"),e),r(t,"course_id",o("#post_ID").val()),r(t,"action","tutor_content_drip_state_update"),t)})})})},7509:()=>{document.addEventListener("DOMContentLoaded",function(){var o=document.querySelector(".tutor-course-product-fields");var t=document.querySelector(".tutor-course-product-fields.tutor-course-is-free");var r=document.querySelector("select[name=_tutor_course_product_id]");if(t){t.style.display="none";r.value="-1"}var e=document.querySelectorAll(".tutor-course-price-fields [name=tutor_course_price_type]");e.forEach(function(t){if(t){t.onclick=function(t){var e=t.target.value;if(e==="paid"){o.style.display="flex"}else{o.style.display="none";r.value="-1"}}}})})},4498:()=>{window.jQuery(document).ready(function(u){var t=wp.i18n.__;var c=u("#tutor_course_instructor_modal .tutor-search-result");var d=u("#tutor_course_instructor_modal .tutor-selected-result");var i=u("#tutor_course_instructor_modal").data("course_id");var n;var e=function t(a,s){var e=function t(){n=undefined;var e=u('#tutor_course_instructor_modal input[type="text"]');var o=(e.val()||"").trim();if(!o){c.empty();return}var r=[];d.find("[data-instructor-id]").each(function(){r.push(u(this).data("instructor-id"))});a&&!isNaN(a)?r.push(a):0;u.ajax({url:_tutorobject.ajaxurl,type:"POST",data:{course_id:i,search_terms:o,shortlisted:r,action:"tutor_course_instructor_search"},beforeSend:function t(){if(!s){c.html("");c.addClass("is-loading")}},success:function t(e){var o=e.data||{},r=o.search_result,a=o.shortlisted,i=o.shortlisted_count;c.removeClass("is-loading");c.html(r);d.html(a);var n=i?false:true;u(".add_instructor_to_course_btn").prop("disabled",n);s?s():0}})};if(n){clearTimeout(n)}n=setTimeout(e,350)};u(document).on("input",'#tutor_course_instructor_modal input[type="text"]',e);u(document).on("focus",'#tutor_course_instructor_modal input[type="text"]',function(){c.show()});u(document).on("click","#tutor_course_instructor_modal .tutor-shortlist-instructor",function(){u(this).addClass("is-loading");e(u(this).closest("[data-user_id]").data("user_id"),function(){c.hide()})});u(document).on("click","#tutor_course_instructor_modal .tutor-selected-result .instructor-control a",function(){u(this).closest(".added-instructor-item").fadeOut(function(){u(this).remove()})});u(document).on("click",".add_instructor_to_course_btn",function(t){t.preventDefault();var e=u(this);var o=u("#tutor_course_instructor_modal").data("course_id");var r=[];d.find("[data-instructor-id]").each(function(){r.push(u(this).data("instructor-id"))});u.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:{course_id:o,tutor_instructor_ids:r,action:"tutor_add_instructors_to_course"},beforeSend:function t(){e.addClass("is-loading")},success:function t(e){if(e.success){c.empty();d.empty();u("#tutor_course_instructor_modal").removeClass("tutor-is-active");u("body").removeClass("tutor-modal-open");u(".tutor-course-instructors-metabox-wrap").parent().html(e.data.output);u(".tutor-modal-wrap").removeClass("show");return}tutor_toast("Error!",get_response_message(e),"error")},complete:function t(){e.removeClass("is-loading")}})});u(document).on("click",".tutor-instructor-delete-btn",function(t){t.preventDefault();var o=u(this);var e=u("#post_ID").val();var r=o.closest(".added-instructor-item").attr("data-instructor-id");u.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:{course_id:e,instructor_id:r,action:"detach_instructor_from_course"},beforeSend:function t(){return o.addClass("is-loading")},complete:function t(){return o.removeClass("is-loading")},success:function t(e){if(e.success){o.closest(".added-instructor-item").remove();return}tutor_toast("Error!",get_response_message(e),"error")}})})})},8005:()=>{window.jQuery(document).ready(function(l){var _=wp.i18n.__;l(document).on("click",".tutor-save-topic-btn",function(t){t.preventDefault();var u=l(this);var c=u.closest(".tutor-modal");var d=c.find('[name="topic_id"]').val();var e=c.find('[name="topic_title"]').val();var o=c.find('[name="topic_summery"]').val();var r=c.find('[name="topic_course_id"]').val();var a={topic_title:e,topic_summery:o,topic_id:d,topic_course_id:r,action:"tutor_save_topic"};l.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:a,beforeSend:function t(){u.addClass("is-loading")},success:function t(e){var o=e.data,r=o===void 0?{}:o,t=e.success;var a=r.message,i=a===void 0?_("Something Went Wrong!","tutor"):a,n=r.course_contents,s=r.topic_title;if(!t){tutor_toast("Error!",i,"error");return}c.removeClass("tutor-is-active");if(d){u.closest(".tutor-topics-wrap").find("span.topic-inner-title").text(s)}else{l("#tutor-course-content-wrap").html(n);c.find('[name="topic_title"]').val("");c.find('[name="topic_summery"]').val("");enable_sorting_topic_lesson()}window.dispatchEvent(new Event(_tutorobject.content_change_event))},complete:function t(){u.removeClass("is-loading");l("body").removeClass("tutor-modal-open")}})});l(document).on("click",".tutor-topics-wrap [action-delete-course-topic]",function(t){var e=l(this);var o=l(this).closest(".tutor-topics-wrap");var r=o.attr("data-topic-id");if(!confirm(_("Are you sure to delete the topic?","tutor"))){return}l.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:{action:"tutor_delete_topic",topic_id:r},beforeSend:function t(){e.addClass("is-loading")},success:function t(e){if(e.success){o.remove();return}tutor_toast("Error!",(e.data||{}).message||_("Something Went Wrong","tutor"),"error")},complete:function t(){e.removeClass("is-loading")}})});l(document).on("click",".topic-inner-title, .expand-collapse-wrap",function(t){t.preventDefault();var e=l(this).closest(".tutor-topics-wrap");e.find(".tutor-topics-body").slideToggle();e.find(".expand-collapse-wrap").toggleClass("is-expanded").find("i").toggleClass("tutor-icon-angle-down tutor-icon-angle-up")})})},3008:()=>{window.jQuery(document).ready(function(a){var i=wp.i18n.__;a(document).on("click",".video_source_wrap_html5 .tutor-attachment-cards .tutor-delete-attachment",function(){a(this).closest(".video_source_wrap_html5").removeClass("tutor-has-video").find("input.input_source_video_id").val("")});a(document).on("click",".video_source_wrap_html5 .video_upload_btn",function(t){t.preventDefault();var e=a(this).closest(".video_source_wrap_html5");var o=e.find(".tutor-attachment-cards");var r;if(r){r.open();return}r=wp.media({title:i("Select or Upload Media Of Your Choice","tutor"),button:{text:i("Upload media","tutor")},library:{type:"video"},multiple:false});r.on("select",function(){var t=r.state().get("selection").first().toJSON();o.find(".filename").text(t.name).attr("href",t.url);o.find(".filesize").text(t.filesizeHumanReadable);e.find("input.input_source_video_id").val(t.id).data("video_url",t.url).trigger("paste");e.addClass("tutor-has-video")});r.open()})})}};var a={};function h(t){var e=a[t];if(e!==undefined){return e.exports}var o=a[t]={exports:{}};r[t](o,o.exports,h);return o.exports}var t={};(()=>{"use strict";var t=h(2674);var e=h(4417);var o=h(7464);var r=h(4498);var c=function t(e,o){var r=wp.i18n.__;var a=e||{},i=a.data,n=i===void 0?{}:i;var s=n.message,u=s===void 0?o||r("Something Went Wrong!","tutor"):s;return u};function m(t){"@babel/helpers - typeof";return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}(function(n){window.enable_sorting_topic_lesson=function(){var t=wp.i18n.__;if(jQuery().sortable){n(".course-contents").sortable({handle:".course-move-handle",start:function t(e,o){o.placeholder.css("visibility","visible")},stop:function t(e,o){console.log("e1",e,o);tutor_sorting_topics_and_lesson()}});n(".tutor-lessons:not(.drop-lessons)").sortable({connectWith:".tutor-lessons",items:"div.course-content-item",start:function t(e,o){o.placeholder.css("visibility","visible")},stop:function t(e,o){tutor_sorting_topics_and_lesson(o)}})}};window.tutor_sorting_topics_and_lesson=function(t){var i={};n(".tutor-topics-wrap").each(function(t,e){var o=n(this);var r=parseInt(o.attr("id").match(/\d+/)[0],10);var a={};o.find(".course-content-item").each(function(t,e){var o=n(this);var r=parseInt(o.attr("id").match(/\d+/)[0],10);a[t]=r});i[t]={topic_id:r,lesson_ids:a}});n("#tutor_topics_lessons_sorting").val(JSON.stringify(i));var e={tutor_topics_lessons_sorting:JSON.stringify(i),action:"tutor_update_course_content_order"};if(t){var o=t.item.closest("[data-topic-id]").attr("data-topic-id");var r=t.item.attr("data-course_content_id");e.content_parent={parent_topic_id:o,content_id:r}}n.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:e,success:function t(e){if(!e.success){tutor_toast(__("Error","tutor"),c(e),"error")}},error:function t(){}})}})(window.jQuery);window.jQuery(document).ready(function(f){var u=wp.i18n.__;enable_sorting_topic_lesson();f(document).on("click",".open-tutor-lesson-modal",function(t){t.preventDefault();var e=f(this);var r=e.attr("data-lesson-id");var a=e.attr("data-topic-id");var o=f("#post_ID").val();f.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:{lesson_id:r,topic_id:a,course_id:o,action:"tutor_load_edit_lesson_modal"},beforeSend:function t(){e.addClass("is-loading")},success:function t(e){if(!e.success){tutor_toast(u("Error","tutor"),c(e),"error");return}f(".tutor-lesson-modal-wrap .modal-container").html(e.data.output);f(".tutor-lesson-modal-wrap").attr({"data-lesson-id":r,"data-topic-id":a});f(".tutor-lesson-modal-wrap").addClass("tutor-is-active");if(f("#wp-tutor_lesson_modal_editor-wrap").hasClass("html-active")){f("#wp-tutor_lesson_modal_editor-wrap").removeClass("html-active")}f("#wp-tutor_lesson_modal_editor-wrap").addClass("tmce-active");var o=tinyMCEPreInit.mceInit.tutor_lesson_editor_config;if(!o){o=tinyMCEPreInit.mceInit.course_description}tinymce.init(o);tinymce.execCommand("mceRemoveEditor",false,"tutor_lesson_modal_editor");tinyMCE.execCommand("mceAddEditor",false,"tutor_lesson_modal_editor");window.dispatchEvent(new Event(_tutorobject.content_change_event))},complete:function t(){console.log("ajax completed");e.removeClass("is-loading");quicktags({id:"tutor_lesson_modal_editor"})}})});f(document).on("change",".tutor_lesson_video_source",function(t){var e=f(this).val();f(this).nextAll().hide().filter(".video_source_wrap_"+e).show();f(this).prevAll().filter("[data-video_source]").attr("data-video_source",e)});f(document).on("click",".update_lesson_modal_btn",function(t){t.preventDefault();var o=f(this);var e;var r="tutor_lesson_modal_editor";var a=tinyMCE.get(r);var i=document.getElementById("wp-tutor_lesson_modal_editor-wrap");var n=i.classList.contains("html-active");if(a){e=a.getContent()}else{e=f("#"+r).val()}var s=f(this).closest(".tutor-modal").find("form").serializeObject();s.lesson_content=e;s.is_html_active=n;f.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:s,beforeSend:function t(){o.addClass("is-loading")},success:function t(e){if(e.success){f("#tutor-course-content-wrap").html(e.data.course_contents);enable_sorting_topic_lesson();o.closest(".tutor-modal").removeClass("tutor-is-active");tutor_toast(u("Success","tutor"),u("Lesson Updated","tutor"),"success");window.dispatchEvent(new Event(_tutorobject.content_change_event))}},complete:function t(){o.removeClass("is-loading")}})});var t=[".video_source_wrap_external_url input",".video_source_wrap_vimeo input",".video_source_wrap_youtube input",".video_source_wrap_html5 input.input_source_video_id"].join(",");var o;f(document).on("blur",t,function(){var t=f(this).val();var e=/(http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;if(t&&e.test(t)==false){f(this).val("");tutor_toast("Error!",u("Invalid Video URL","tutor"),"error")}}).on("paste",t,function(t){t.stopImmediatePropagation();var u=f(this).closest(".tutor-lesson-modal-wrap").find(".tutor-option-field-video-duration");var o=u.find("label");var e=f(this).hasClass("input_source_video_id");var r=f(this).data("autofill_url");f(this).data("autofill_url",null);var a=e?f(this).data("video_url"):r||t.originalEvent.clipboardData.getData("text");var i=function t(e){if(!e){o.find("img").remove();return}if(o.find("img").length==0){o.append(' <img src="'+window._tutorobject.loading_icon_url+'" style="display:inline-block"/>')}};var n=function t(e){var o=Math.floor(e/3600);var r=Math.floor((e-o*3600)/60);var a=Math.round(e-o*3600-r*60);if(o<10){o="0"+o}if(r<10){r="0"+r}if(a<10){a="0"+a}var i=[o,r,a];var n=u.find("input");for(var s=0;s<3;s++){n.eq(s).val(i[s])}};var s=function t(e){var o=e.match(/PT(\d+H)?(\d+M)?(\d+S)?/);o=o.slice(1).map(function(t){if(t!=null){return t.replace(/\D/,"")}});var r=parseInt(o[0])||0;var a=parseInt(o[1])||0;var i=parseInt(o[2])||0;return r*3600+a*60+i};if(e||f(this).parent().hasClass("video_source_wrap_external_url")){var c=document.createElement("video");c.addEventListener("loadedmetadata",function(){n(c.duration);i(false)});i(true);c.src=a}else if(f(this).parent().hasClass("video_source_wrap_vimeo")){var d=/^.*(vimeo\.com\/)((channels\/[A-z]+\/)|(groups\/[A-z]+\/videos\/))?([0-9]+)/;var l=a.match(d);var _=l?l[5]:null;if(_){i(true);f.getJSON("http://vimeo.com/api/v2/video/"+_+"/json",function(t){if(Array.isArray(t)&&t[0]&&t[0].duration!==undefined){n(t[0].duration)}i(false)})}}else if(f(this).parent().hasClass("video_source_wrap_youtube")){var d=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/;var l=a.match(d);var _=l&&l[7].length==11?l[7]:false;var v=f(this).data("youtube_api_key");if(_&&v){var p="https://www.googleapis.com/youtube/v3/videos?id="+_+"&key="+v+"&part=contentDetails";i(true);f.getJSON(p,function(t){if(m(t)=="object"&&t.items&&t.items[0]&&t.items[0].contentDetails&&t.items[0].contentDetails.duration){n(s(t.items[0].contentDetails.duration))}i(false)})}}}).on("input",t,function(){if(o){clearTimeout(o)}var e=f(this);o=setTimeout(function(){var t=e.val();t=t?t.trim():"";console.log("Trigger",t);t?e.data("autofill_url",t).trigger("paste"):0},700)})});function a(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,r)}return o}function w(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?a(Object(o),!0).forEach(function(t){i(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}function i(t,e,o){if(e in t){Object.defineProperty(t,e,{value:o,enumerable:true,configurable:true,writable:true})}else{t[e]=o}return t}window.jQuery(document).ready(function(v){var p=wp.i18n.__;var f=function t(e,o,r){var a=e.find(".tutor-modal-steps");var i=a.find('li[data-tab="'+e.attr("data-target")+'"]');var n=i.next();var s=i.prev();if(!o){var u=s.data("tab");s.length?e.attr("data-target",u):0;r?a.find('li[data-tab="'+u+'"]').nextAll().removeClass("tutor-is-completed"):0;return}if(n.length){n.addClass("tutor-is-completed");e.attr("data-target",n.data("tab"));return true}tutor_toast(p("Success","tutor"),p("Quiz Updated"),"success");e.removeClass("tutor-is-active");return null};var m=function t(){v(".tutor-field-slider").each(function(){var t=v(this);var r=t.closest(".tutor-field-type-slider").find('input[type="hidden"]');var a=t.closest(".tutor-field-type-slider").find(".tutor-field-type-slider-value");var e=parseFloat(t.closest(".tutor-field-type-slider").attr("data-min"));var o=parseFloat(t.closest(".tutor-field-type-slider").attr("data-max"));t.slider({range:"max",min:e,max:o,value:r.val(),slide:function t(e,o){a.text(o.value);r.val(o.value)}})})};function r(){var a={};v(".quiz-builder-question-wrap").each(function(t,e){var o=v(this);var r=parseInt(o.attr("data-question-id"),10);a[t]=r});v.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:{sorted_question_ids:a,action:"tutor_quiz_question_sorting"}})}function h(){if(jQuery().sortable){v(".quiz-builder-questions-wrap").sortable({handle:".question-sorting",start:function t(e,o){o.placeholder.css("visibility","visible")},stop:function t(e,o){r()}})}}function u(){if(jQuery().sortable){v("#tutor_quiz_question_answers").sortable({handle:".tutor-quiz-answer-sort-icon",start:function t(e,o){o.placeholder.css("visibility","visible")},stop:function t(e,o){a()}})}}function a(){var a={};v(".tutor-quiz-answer-wrap").each(function(t,e){var o=v(this);var r=parseInt(o.attr("data-answer-id"),10);a[t]=r});v.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:{sorted_answer_ids:a,action:"tutor_quiz_answer_sorting"}})}function t(){var t={init:function t(){v(document).on("click",".question-type-select .tutor-select-option",function(t){t.preventDefault();var e=v(this);if(e.attr("data-is-pro")!=="true"){var o=e.html().trim();e.closest(".question-type-select").find(".select-header .lead-option").html(o);e.closest(".question-type-select").find(".select-header input.tutor_select_value_holder").val(e.attr("data-value")).trigger("change");e.closest(".tutor-select-options").hide()}else{alert("Tutor Pro version required")}});v(document).on("click",".question-type-select .select-header",function(t){t.preventDefault();var e=v(this);e.closest(".question-type-select").find(".tutor-select-options").slideToggle()});this.setValue();this.hideOnOutSideClick()},setValue:function t(){v(".question-type-select").each(function(){var t=v(this);var e=t.find(".tutor-select-option");if(e.length){e.each(function(){var t=v(this);if(t.attr("data-selected")==="selected"){var e=t.html().trim();t.closest(".question-type-select").find(".select-header .lead-option").html(e);t.closest(".question-type-select").find(".select-header input.tutor_select_value_holder").val(t.attr("data-value"))}})}})},hideOnOutSideClick:function t(){v(document).mouseup(function(t){var e=v(".tutor-select-options");if(!v(t.target).closest(".select-header").length&&!e.is(t.target)&&e.has(t.target).length===0){e.hide()}})},reInit:function t(){this.setValue()}};return t}t().init();m();v(document).on("click",".tutor-add-quiz-btn, .open-tutor-quiz-modal, .back-to-quiz-questions-btn",function(t){t.preventDefault();if(t.originalEvent){var e=v(this).closest("#tutor-quiz-question-wrapper").find(".tutor_select_value_holder").val();if(["single_choice","multiple_choice"].indexOf(e)>-1){v(".quiz-modal-question-save-btn").trigger("click");return}}var o=v(this);var r=v(this).hasClass("open-tutor-quiz-modal")||v(this).hasClass("tutor-add-quiz-btn");var a=v(".tutor-modal.tutor-quiz-builder-modal-wrap");var i=o.hasClass("tutor-add-quiz-btn")?0:o.attr("data-quiz-id");var n=o.closest(".tutor-topics-wrap").data("topic-id");var s=v("#post_ID").val();v.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:{quiz_id:i,topic_id:n,course_id:s,action:"tutor_load_quiz_builder_modal"},beforeSend:function t(){o.addClass("is-loading")},success:function t(e){if(!e.success){tutor_toast("Error",c(e),"error");return}v(".tutor-quiz-builder-modal-wrap").addClass("tutor-is-active");v(".tutor-quiz-builder-modal-wrap .modal-container").html(e.data.output);v(".tutor-quiz-builder-modal-wrap").attr("data-quiz-id",i).attr("data-topic-id-of-quiz",n);a.removeClass("tutor-has-question-from");if(r){f(a,false,true);f(a,false,true)}window.dispatchEvent(new Event(_tutorobject.content_change_event));m();h()},complete:function t(){o.removeClass("is-loading")}})});v(document).on("click",".tutor-quiz-builder-modal-wrap button",function(t){var e=v(this);var o=e.closest(".tutor-modal");var r=o.attr("data-target");var a=v(this).data("action");if(a=="back"){f(o,false);return}else if(a!="next"){return}var i=v("#post_ID").val();var n=v(this).closest(".tutor-quiz-builder-modal-wrap").attr("data-topic-id-of-quiz");var s=o.find('[name="quiz_id"]').val();if(r=="quiz-builder-tab-quiz-info"||r=="quiz-builder-tab-settings"){var u=o.find('[name="quiz_title"]').val();var c=o.find('[name="quiz_description"]').val();var d=o.find("#quiz-builder-tab-settings :input, #quiz-builder-tab-advanced-options :input").serializeObject();var l={quiz_title:u,course_id:i,quiz_id:s,topic_id:n};for(var _ in l){if(!l[_]){console.log(l);if(_=="quiz_title"){tutor_toast("Error!",p("Quiz title required","tutor"),"error")}return}}v.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:w(w(w({},d),l),{},{quiz_description:c,action:"tutor_quiz_save"}),beforeSend:function t(){e.addClass("is-loading")},success:function t(e){console.log(s,s!=0);if(s&&s!=0){v("#tutor-quiz-"+s).replaceWith(e.data.output_quiz_row);console.log(v("#tutor-quiz-"+s))}else{v("#tutor-topics-"+n+" .tutor-lessons").append(e.data.output_quiz_row);console.log(v("#tutor-topics-"+n+" .tutor-lessons"))}v(".tutor-quiz-builder-modal-wrap .modal-container").html(e.data.output);window.dispatchEvent(new Event(_tutorobject.content_change_event));m();f(o,true);h();v('[name="quiz_option[feedback_mode]"]').trigger("change")},complete:function t(){e.removeClass("is-loading")}})}else if(r=="quiz-builder-tab-questions"){f(o,true)}});v(document).on("click",".tutor-quiz-open-question-form",function(t){t.preventDefault();var e=v(this);var o=e.closest(".tutor-modal");var r=o.find('[name="quiz_id"]').val();var a=o.find('[name="topic_id"]').val();var i=v("#post_ID").val();var n=e.attr("data-question-id");var s={quiz_id:r,topic_id:a,course_id:i,question_id:n,action:"tutor_quiz_builder_get_question_form"};v.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:s,beforeSend:function t(){e.addClass("is-loading")},success:function t(e){o.find(".modal-container").html(e.data.output);o.addClass("tutor-has-question-from");u()},complete:function t(){e.removeClass("is-loading")}})});v(document).on("click",".tutor-quiz-question-trash",function(t){t.preventDefault();var e=v(this);var o=e.attr("data-question-id");v.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:{question_id:o,action:"tutor_quiz_builder_question_delete"},beforeSend:function t(){e.addClass("is-loading")},success:function t(){e.closest(".quiz-builder-question-wrap").fadeOut(function(){v(this).remove()})},complete:function t(){e.removeClass("is-loading")}})});v(document).on("click",".add_question_answers_option, .tutor-quiz-answer-edit a",function(t){t.preventDefault();var e=v(this);var o=e.closest("[data-question-id]").attr("data-question-id");var r=v(this).hasClass("add_question_answers_option")?null:e.closest(".tutor-quiz-answer-wrap").attr("data-answer-id");var a=v("#tutor-quiz-question-wrapper :input").serializeObject();a.question_id=o;a.answer_id=r;a.action="tutor_quiz_question_answer_editor";v.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:a,beforeSend:function t(){e.addClass("is-loading")},success:function t(e){v("#tutor_quiz_builder_answer_wrapper").html(e.data.output)},complete:function t(){e.removeClass("is-loading")}})});v(document).on("click",".quiz-modal-question-save-btn",function(t){t.preventDefault();var e=v(this);var o=e.closest(".tutor-modal");var r=v("#tutor-quiz-question-wrapper :input").serializeObject();r.action="tutor_quiz_modal_update_question";v.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:r,beforeSend:function t(){e.addClass("is-loading")},success:function t(e){if(e.success){o.find(".back-to-quiz-questions-btn").trigger("click")}else{tutor_toast("Error",c(e),"error")}},complete:function t(){setTimeout(function(){return e.removeClass("is-loading")},2e3)}})});v(document).on("change","input.tutor_select_value_holder",function(t){var o=v("#tutor_quiz_builder_answer_wrapper");o.html('<div style="text-align:center">\n                <span class="is-loading"></span>\n            </div>');o.get(0).scrollIntoView({block:"center",behavior:"smooth"});var e=v(this).closest("[data-question-id]").attr("data-question-id");var r=v(this).val();v.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:{question_id:e,question_type:r,action:"tutor_quiz_builder_change_type"},success:function t(e){if(e.success){v("#tutor_quiz_builder_answer_wrapper").html(e.data.output);o.get(0).scrollIntoView({block:"center",behavior:"smooth"})}else{tutor_toast("Error",c(e),"error")}}})});v(document).on("click","#quiz-answer-save-btn",function(t){t.preventDefault();var e=v(this);var o=v("#tutor-quiz-question-wrapper :input").serializeObject();o.action=o.tutor_quiz_answer_id?"tutor_update_quiz_answer_options":"tutor_save_quiz_answer_options";v.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:o,beforeSend:function t(){e.addClass("is-loading")},success:function t(e){if(!e.success){tutor_toast("Error",c(e),"error");return}v(".tutor_select_value_holder").trigger("change")},complete:function t(){e.removeClass("is-loading")}})});v(document).on("change",".tutor-quiz-answers-mark-correct-wrap input",function(t){t.preventDefault();var e=v(this);var o=e.val();var r=1;if(!e.prop("checked")){r=0}v.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:{answer_id:o,inputValue:r,action:"tutor_mark_answer_as_correct"}})});v(document).on("click",".tutor-quiz-answer-trash-wrap a.answer-trash-btn",function(t){t.preventDefault();var e=v(this);var o=e.attr("data-answer-id");v.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:{answer_id:o,action:"tutor_quiz_builder_delete_answer"},beforeSend:function t(){e.closest(".tutor-quiz-answer-wrap").remove()}})});v(document).on("click",".tutor-quiz-advance-settings .tutor-quiz-advance-header",function(){v(this).parent().toggleClass("tutor-is-active").find(".tutor-icon-angle-down").toggleClass("tutor-icon-angle-up")});v(document).on("change",'[name="quiz_option[feedback_mode]"]',function(){if(v(this).prop("checked")){v(this).parent().addClass("tutor-bg-white").removeClass("tutor-bg-transparent").siblings().filter(".tutor-radio-select").addClass("tutor-bg-transparent").removeClass("tutor-bg-white");var t=v(this).val()=="retry";v(".tutor-attempt-allowed-slider")[t?"show":"hide"]()}})});var n=h(8005);var s=h(3008);var u=h(7509);var d=function t(){if(jQuery().select2){jQuery(".select2_multiselect").select2({dropdownCssClass:"increasezindex"})}};window.addEventListener("DOMContentLoaded",d);window.addEventListener(_tutorobject.content_change_event,d);window.addEventListener(_tutorobject.content_change_event,function(){return console.log(_tutorobject.content_change_event)});function l(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:255;var e=arguments.length>1?arguments[1]:undefined;return t-(((e||{}).value||{}).length||0)}var _=255;var v=document.getElementById("tutor-course-create-title");var p=v===null||v===void 0?void 0:v.previousElementSibling;var f=document.querySelector("#tutor-course-create-title-tooltip-wrapper .tooltip-txt");if(p){p.innerHTML=l(_,v)}if(v&&f){document.addEventListener("click",function(t){if(t.target===v){if(v===document.activeElement){f.style.opacity="1";f.style.visibility="visible"}}else{f.style.opacity="0";f.style.visibility="hidden"}});v.addEventListener("keyup",function(t){var e=l(_,v);p.innerHTML=e})}})()})();