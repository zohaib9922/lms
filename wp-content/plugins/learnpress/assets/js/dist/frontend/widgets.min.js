!function(){"use strict";window.wp.url,document.addEventListener("DOMContentLoaded",(function(e){!function(){const e=document.querySelectorAll(".learnpress-widget-wrapper");if(e.length&&"IntersectionObserver"in window){const t=new IntersectionObserver(((e,s)=>{e.forEach((e=>{if(e.isIntersecting){const s=e.target;(async e=>{const t=e.dataset.widget?JSON.parse(e.dataset.widget):"",s=await wp.apiFetch({path:"lp/v1/widgets/api",method:"POST",data:{...t}}),{data:a,status:n,message:r}=s;a&&"success"===n?e.insertAdjacentHTML("afterbegin",a):r&&e.insertAdjacentHTML("afterbegin",`<div class="lp-ajax-message error" style="display:block">${r}</div>`),delete e.dataset.widget,e.querySelector(".lp-skeleton-animation").remove()})(s),t.unobserve(s)}}))}));[...e].map((e=>e.classList.contains("learnpress-widget-wrapper__restapi")&&t.observe(e)))}}()}))}();